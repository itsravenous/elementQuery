
(function(window,document,undefined){"use strict";var main=function(){var queryData={};var cssRules=null;var setCssRules=function(){if(document.styleSheets[0]){cssRules=(document.styleSheets[0].cssRules!==undefined)?"cssRules":"rules";}}
var addQueryDataValue=function(selector,type,pair,number,value){selector=trim(selector);if(selector!=""){var parts;if(!number&&!value){parts=/^([0-9]*.?[0-9]+)(px|em)$/.exec(pair)
if(parts!=null){number=Number(parts[1]);if(number+""!="NaN"){value=parts[2];}}}
if(value){if(sizzle.compile){sizzle.compile(selector);}
if(queryData[selector]===undefined){queryData[selector]={};}
if(queryData[selector][type]===undefined){queryData[selector][type]={};}
queryData[selector][type][pair]=[number,value];}}};var updateQueryData=function(data,doUpdate){var i,j,k;for(i in data){for(j in data[i]){if(typeof data[i][j]=="string"){addQueryDataValue(i,j,data[i][j]);}
else if(typeof data[i][j]=="object"){for(k=0;k<data[i][j].length;k++){addQueryDataValue(i,j,data[i][j][k]);}}}}
if(doUpdate==true){refresh();}};var processSelector=function(selectorText){if(selectorText){var regex=/(\[(min\-width|max\-width|min\-height|max\-height)\~\=(\'|\")([0-9]*.?[0-9]+)(px|em)(\'|\")\])(\[(min\-width|max\-width|min\-height|max\-height)\~\=(\'|\")([0-9]*.?[0-9]+)(px|em)(\'|\")\])?/gi;var selectors=selectorText.split(",");var i,selector,result,number,prevIndex,k,tail,t;for(i=0;i<selectors.length;i++){selector=null;prevIndex=0;k=0;while(k==0||result!=null){result=regex.exec(selectors[i]);if(result!=null){number=Number(result[4]);if(number+""!="NaN"){if(selector==null){selector=selectors[i].substring(prevIndex,result.index);tail=selectors[i].substring(result.index+result[1].length);if(tail.length>0){t=tail.indexOf(" ");if(t!=0){if(t>0){tail=tail.substring(0,t);}
tail=tail.replace(/(\[(min\-width|max\-width|min\-height|max\-height)\~\=(\'|\")([0-9]*.?[0-9]+)(px|em)(\'|\")\])/gi,"");selector+=tail;}}}
addQueryDataValue(selector,result[2],result[4]+result[5],number,result[5]);}
if(result[7]===undefined||result[7]==""){prevIndex=result.index+result[1].length;selector=null;}
else{regex.lastIndex=result.index+result[1].length;}}
k++;}}}};var processStyleSheet=function(styleSheet,force){if(cssRules==null){setCssRules();}
if(styleSheet[cssRules]&&styleSheet[cssRules].length>0){var ownerNode=styleSheet.ownerNode||styleSheet.owningElement;if(force||(ownerNode.getAttribute("data-elementquery-bypass")===null&&ownerNode.getAttribute("data-elementquery-processed")===null)){var i,j,rule;for(i=0;i<styleSheet[cssRules].length;i++){rule=styleSheet[cssRules][i];if(rule[cssRules]&&rule[cssRules].length>0){for(j=0;j<rule[cssRules].length;j++){processSelector(rule[cssRules][j].selectorText);}}
else{processSelector(rule.selectorText);}}
ownerNode.setAttribute("data-elementquery-processed","");}}};var trim=function(text){if(text==null){return"";}
else{var core_trim="".trim;if(core_trim&&!core_trim.call("\uFEFF\xA0")){return core_trim.call(text);}
else{return(text+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");}}};var clean=function(element,attr){var val=element.getAttribute(attr);return val?(" "+val+" ").replace(/[\t\r\n]/g," "):" ";};var addTo=function(element,attr,value){if(element.nodeType===1){var val=trim(value);if(val!=""){var cur=clean(element,attr);if(cur.indexOf(" "+val+" ")<0){element.setAttribute(attr,trim(cur+val));}}}};var removeFrom=function(element,attr,value){if(element.nodeType===1){var val=trim(value);if(val!=""){var cur=clean(element,attr);var updated=false;while(cur.indexOf(" "+val+" ")>=0){cur=cur.replace(" "+val+" "," ");updated=true;}
if(updated){element.setAttribute(attr,trim(cur));}}}};var init=function(){var i;for(i=0;i<document.styleSheets.length;i++){processStyleSheet(document.styleSheets[i]);}
refresh();}
var refresh=function(){var i,ei,j,k,elements,element,val;for(i in queryData){elements=sizzle(i);if(elements.length>0){for(ei=0;ei<elements.length;ei++){element=elements[ei];for(j in queryData[i]){for(k in queryData[i][j]){val=queryData[i][j][k][0];if(queryData[i][j][k][1]=="em"){val=val*(window.getEmPixels?getEmPixels(element):16);}
if((j=="min-width"&&element.offsetWidth>=val)||(j=="max-width"&&element.offsetWidth<=val)||(j=="min-height"&&element.offsetHeight>=val)||(j=="max-height"&&element.offsetHeight<=val)){addTo(element,j,k);}
else{removeFrom(element,j,k);}}}}}}
if(!window.addEventListener&&window.attachEvent){var className=document.documentElement.className;document.documentElement.className=" "+className;document.documentElement.className=className;}}
var elementQuery=function(arg1,arg2){if(arg1&&typeof arg1=="object"){if(arg1.cssRules||arg1.rules){processStyleSheet(arg1,true);if(arg2==true){refresh();}}else{updateQueryData(arg1,arg2);}}
else if(!arg1&&!arg2){refresh();}};elementQuery.selectors=function(){var data={};var i,j,k;for(i in queryData){for(j in queryData[i]){for(k in queryData[i][j]){if(data[i]===undefined){data[i]={};}
if(data[i][j]===undefined){data[i][j]=[];}
data[i][j][data[i][j].length]=k;}}}
return data;};if(window.addEventListener){window.addEventListener("resize",refresh,false);window.addEventListener("DOMContentLoaded",init,false);window.addEventListener("load",init,false);}
else if(window.attachEvent){window.attachEvent("onresize",refresh);window.attachEvent("onload",init);}
return elementQuery;}
var haveDefine=typeof define==="function"&&define.amd;if(haveDefine){define('elementQuery',['sizzle','getEmPixels'],function(){var elementQuery=main();return elementQuery;});}else{var sizzle=window.Sizzle||jQuery.find;var elementQuery=main();window.elementQuery=elementQuery;}}(this,document,undefined));(function(document,documentElement){"use strict";var important="!important;";var style="position:absolute"+important+"visibility:hidden"+important+"width:1em"+important+"font-size:1em"+important+"padding:0"+important;var getEmPixels=function(element){var extraBody;if(!element){element=extraBody=document.createElement("body");extraBody.style.cssText="font-size:1em"+important;documentElement.insertBefore(extraBody,document.body);}
var testElement=document.createElement("i");testElement.style.cssText=style;element.appendChild(testElement);var value=testElement.clientWidth;if(extraBody){documentElement.removeChild(extraBody);}
else{element.removeChild(testElement);}
return value;};var haveDefine=typeof define==="function"&&define.amd;if(haveDefine){define('getEmPixels',[],function(){return getEmPixels;});}else{window.getEmPixels=getEmPixels;}}(document,document.documentElement));